/*
 * jQuery UI Position 1.9m6
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Position
 */
(function(a,b){a.ui=a.ui||{};var c=/left|center|right/,d=/top|center|bottom/,e=/[+-]\d+%?/,f=/^\w+/,g=/%$/,h=a.fn.position;a.position={scrollbarWidth:function(){var b,c,d=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");return c=d.children()[0],a("body").append(d),b=c.offsetWidth,d.css("overflow","scroll"),c=c.offsetWidth,b===c&&(c=d[0].clientWidth),d.remove(),b-c},getScrollInfo:function(b){var c=b[0]!==window,d=c?b.css("overflow-x"):"";return c=c?b.css("overflow-y"):"",d=d==="auto"||d==="scroll"?a.position.scrollbarWidth():0,c=c==="auto"||c==="scroll"?a.position.scrollbarWidth():0,{height:b.height()<b[0].scrollHeight?c:0,width:b.width()<b[0].scrollWidth?d:0}}},a.fn.position=function(b){if(!b||!b.of)return h.apply(this,arguments);b=a.extend({},b);var i=a(b.of),j=a(b.within||window),k=i[0],l=(b.collision||"flip").split(" "),m={},n,o,q,v;return k.nodeType===9?(o=i.width(),q=i.height(),v={top:0,left:0}):a.isWindow(k)?(o=i.width(),q=i.height(),v={top:i.scrollTop(),left:i.scrollLeft()}):k.preventDefault?(b.at="left top",o=q=0,v={top:b.of.pageY,left:b.of.pageX}):(o=i.outerWidth(),q=i.outerHeight(),v=i.offset()),a.each(["my","at"],function(){var a=(b[this]||"").split(" "),g,h;a.length===1&&(a=c.test(a[0])?a.concat(["center"]):d.test(a[0])?["center"].concat(a):["center","center"]),a[0]=c.test(a[0])?a[0]:"center",a[1]=d.test(a[1])?a[1]:"center",g=e.exec(a[0]),h=e.exec(a[1]),m[this]=[g?g[0]:0,h?h[0]:0],b[this]=[f.exec(a[0])[0],f.exec(a[1])[0]]}),l.length===1&&(l[1]=l[0]),b.at[0]==="right"?v.left+=o:b.at[0]==="center"&&(v.left+=o/2),b.at[1]==="bottom"?v.top+=q:b.at[1]==="center"&&(v.top+=q/2),n=[parseInt(m.at[0],10)*(g.test(m.at[0])?o/100:1),parseInt(m.at[1],10)*(g.test(m.at[1])?q/100:1)],v.left+=n[0],v.top+=n[1],this.each(function(){var c=a(this),d=c.outerWidth(),e=c.outerHeight(),f=parseInt(a.curCSS(this,"marginLeft",!0))||0,h=parseInt(a.curCSS(this,"marginTop",!0))||0,i=a.position.getScrollInfo(j),k=d+f+(parseInt(a.curCSS(this,"marginRight",!0))||0)+i.width,r=e+h+(parseInt(a.curCSS(this,"marginBottom",!0))||0)+i.height,s=a.extend({},v),t=[parseInt(m.my[0],10)*(g.test(m.my[0])?c.outerWidth()/100:1),parseInt(m.my[1],10)*(g.test(m.my[1])?c.outerHeight()/100:1)],u;b.my[0]==="right"?s.left-=d:b.my[0]==="center"&&(s.left-=d/2),b.my[1]==="bottom"?s.top-=e:b.my[1]==="center"&&(s.top-=e/2),s.left+=t[0],s.top+=t[1],u={marginLeft:f,marginTop:h},a.each(["left","top"],function(f,g){a.ui.position[l[f]]&&a.ui.position[l[f]][g](s,{targetWidth:o,targetHeight:q,elemWidth:d,elemHeight:e,collisionPosition:u,collisionWidth:k,collisionHeight:r,offset:[n[0]+t[0],n[1]+t[1]],my:b.my,at:b.at,within:j,elem:c})}),a.fn.bgiframe&&c.bgiframe(),c.offset(a.extend(s,{using:b.using}))})},a.ui.position={fit:{left:function(b,c){var d=c.within,e=a(window),f=a.isWindow(c.within[0]),g=f?e.scrollLeft():d.offset().left;e=f?e.width():d.outerWidth(),f=b.left-c.collisionPosition.marginLeft,d=g-f;var h=f+c.collisionWidth-e-g;c.collisionWidth>e?d>0&&h<=0?(g=b.left+d+c.collisionWidth-e-g,b.left+=d-g):b.left=h>0&&d<=0?g:d>h?g+e-c.collisionWidth:g:d>0?b.left+=d:h>0?b.left-=h:b.left=Math.max(b.left-f,b.left)},top:function(b,c){var d=c.within,e=a(window),f=a.isWindow(c.within[0]),g=f?e.scrollTop():d.offset().top;e=f?e.height():d.outerHeight(),f=b.top-c.collisionPosition.marginTop,d=g-f;var h=f+c.collisionHeight-e-g;c.collisionHeight>e?d>0&&h<=0?(g=b.top+d+c.collisionHeight-e-g,b.top+=d-g):b.top=h>0&&d<=0?g:d>h?g+e-c.collisionHeight:g:d>0?b.top+=d:h>0?b.top-=h:b.top=Math.max(b.top-f,b.top)}},flip:{left:function(b,c){if(c.at[0]!=="center"){c.elem.removeClass("ui-flipped-left ui-flipped-right");var d=c.within;a(window);var e=a.isWindow(c.within[0]),f=(e?0:d.offset().left)+d.scrollLeft(),g=e?d.width():d.outerWidth();e=b.left-c.collisionPosition.marginLeft,d=e-f;var h=e+c.collisionWidth-g-f;e=c.my[0]==="left"?-c.elemWidth:c.my[0]==="right"?c.elemWidth:0;var i=c.at[0]==="left"?c.targetWidth:-c.targetWidth,j=-2*c.offset[0];if(d<0){f=b.left+e+i+j+c.collisionWidth-g-f;if(f<0||f<Math.abs(d))c.elem.addClass("ui-flipped-right"),b.left+=e+i+j}else if(h>0){f=b.left-c.collisionPosition.marginLeft+e+i+j-f;if(f>0||Math.abs(f)<h)c.elem.addClass("ui-flipped-left"),b.left+=e+i+j}}},top:function(b,c){if(c.at[1]!=="center"){c.elem.removeClass("ui-flipped-top ui-flipped-bottom");var d=c.within;a(window);var e=a.isWindow(c.within[0]),f=(e?0:d.offset().top)+d.scrollTop(),g=e?d.height():d.outerHeight();e=b.top-c.collisionPosition.marginTop,d=e-f;var h=e+c.collisionHeight-g-f;e=c.my[1]==="top"?-c.elemHeight:c.my[1]==="bottom"?c.elemHeight:0;var i=c.at[1]==="top"?c.targetHeight:-c.targetHeight,j=-2*c.offset[1];if(d<0){f=b.top+e+i+j+c.collisionHeight-g-f;if(f<0||f<Math.abs(d))c.elem.addClass("ui-flipped-bottom"),b.top+=e+i+j}else if(h>0){f=b.top-c.collisionPosition.marginTop+e+i+j-f;if(f>0||Math.abs(f)<h)c.elem.addClass("ui-flipped-top"),b.top+=e+i+j}}}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},a.uiBackCompat!==!1&&function(a){var c=a.fn.position;a.fn.position=function(d){if(!d||!d.offset)return c.call(this,d);var e=d.offset.split(" "),f=d.at.split(" ");return e.length===1&&(e[1]=e[0]),/^\d/.test(e[0])&&(e[0]="+"+e[0]),/^\d/.test(e[1])&&(e[1]="+"+e[1]),f.length===1&&(/left|center|right/.test(f[0])?f[1]="center":(f[1]=f[0],f[0]="center")),c.call(this,a.extend(d,{at:f[0]+e[0]+" "+f[1]+e[1],offset:b}))}}(jQuery)})(jQuery)